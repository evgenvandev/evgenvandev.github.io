---
layout: default
title: Git
nav_order: 31
has_children: true
has_toc: false
permalink: /docs/git
---

# Система контроля версий Git
{: .no_toc }

Так называют программу, которая позволяет хранить разные версии одного и того же документа, легко переключаться между ранними и поздними вариантами, вносить и отслеживать изменения.
{: .fs-6 .fw-300 }

## Оглавление
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Устанавливаем Git

Git сперва нужно установить. Способы зависят от операционной системы компьютера.

### Установка в Linux

Используйте обычный менеджер пакетов вашего дистрибутива. Откройте терминал и введите подходящие команды.
-  Если у вас 21 или более ранняя версия Fedora, используйте `yum install git`.
-  Для 22 и последующих версий Fedora вводите `dnf install git`.
-  Для дистрибутивов, основанных на Debian, например, Ubuntu, используйте `apt-get: sudo apt-get install git`.

Полный список команд для различных дистрибутивов можно посмотреть [здесь](https://git-scm.com/download/linux).

### Установка на macOS

1. Скачиваем Git со страницы [проекта](https://git-scm.com/download/mac).
1. Запускаем загруженный файл.
1. Система может показать окно с ошибкой, где будет написано, что файл скачан с неавторизованного сайта и инсталлятор не может быть запущен. В таком случае нужно зайти в «Системные настройки» — «Безопасность» (Security and Privacy), в появившемся окне будет сообщение об ошибке и кнопка Open anyway (Всё равно открыть). Нажимаем.
1. Система покажет окно, уточняющее хотите ли вы запустить установку.<br> Подтверждаем действие.
1. Установщик проведёт через все необходимые шаги.

### Установка в Windows

Скачайте exe-файл инсталлятора с [сайта Git](https://git-scm.com/download/win) и запустите его. Это Git для Windows, он называется msysGit. Установщик спросит добавлять ли в меню проводника возможность запуска файлов с помощью Git Bash (консольная версия) и GUI (графическая версия). Подтвердите действие, чтобы далее вести работу через консоль в Git Bash. Остальные пункты можно оставить по умолчанию.

### Проверим, что Git установлен

После того, как все действия по установке завершены, убедимся, что Git появился в системе компьютера. Откройте терминал и введите `git --version`, должна появиться текущая версия программы на вашей машине. Эта проверка подходит для всех операционных систем.

![Версия Git]({{ site.url }}{{ site.baseurl }}/assets/images/git/git-version-on-command-line.jpg "Версия Git, из командной строки")

## Настройка Git

После того как Git появился на компьютере, нужно ввести свои данные, а именно имя и адрес электронной почты. Ваши действия в Git будут содержать эту информацию.

Откройте терминал и используйте следующую команду, чтобы добавить своё имя:<br> `git config --global user.name "ваше имя"`<br>
Для добавления почтового адреса вводите:<br> `git config --global user.email адрес`

Обратите внимание, что в командах, указанных выше, есть опция `--global`. Это значит, что такие данные будут сохранены для всех ваших действий в Git и вводить их больше не надо. Если вы хотите менять эту информацию для разных проектов, то в директории проекта вводите эти же команды, только без опции `--global`.

## Регистрация на GitHub

Что такое GitHub?

**GitHub** - веб-сервис, который основан на системе Git. Это такая социальная сеть для разработчиков, которая помогает удобно вести коллективную разработку IT-проектов. Здесь можно публиковать и редактировать свой код, комментировать чужие наработки, следить за новостями других пользователей.

Чтобы начать работу с GitHub, нужно зарегистрироваться на сайте, если вы ещё этого не сделали.

1. Переходим на сайт [GitHub](https://github.com/).

![Регистрация на Git]({{ site.url }}{{ site.baseurl }}/assets/images/git/index-site-github.jpg "Регистрация на Git")

## Устанавливаем SSH-ключи

Git установлен, профиль на GitHub создан. Осталось добавить SSH-ключ и можно приступать к работе с проектом.

Что такое **SSH-ключ** и зачем он нужен?

### Генерируем SSH-ключи

Генерируем SSH-ключи, для этого запускаем `GitBash`:

```
ssh-keygen -t rsa -b 4096 -C "evgenvandev@gmail.com"
```

вводим расположение файла для сохранения ключа:

```
/c/Users/vangula/.ssh/id_rsa
```

### Проверяем доступность ключа

Проверка доступности ключа возникает при получении ошибки:

```
... Permission denied (publickey) - В доступе отказано
```

![Ошибка Permission denied (publickey)]({{ site.url }}{{ site.baseurl }}/assets/images/git/work-with-ssl-keys_permission-denied_publickey.jpg "Ошибка Permission denied (publickey)")

Сначала проверяем доступность ключа командой:

```
eval "$(ssh-agent -s)"
```

![Проверяем доступность ключа]({{ site.url }}{{ site.baseurl }}/assets/images/git/work-with-ssl-keys_eval-ssh-agent_s.jpg "Проверяем доступность ключа")

добавляем ключ в `ssh-agent` командой:

```
ssh-add /c/Users/vangula/.ssh/id_rsa
```

![Добавляем ключ в ssh-agent]({{ site.url }}{{ site.baseurl }}/assets/images/git/work-with-ssl-keys_ssh-add.jpg "Добавляем ключ в ssh-agent")

проверяем ключ командой:

```
ssh-add -l -E sha256
```

возможный ответ в консоли:

![Ответ консоли Git]({{ site.url }}{{ site.baseurl }}/assets/images/git/work-with-ssl-keys_ssh-add-l-e_sha256.jpg "Ответ консоли Git")

## Работа с репозиториями

Для начала определим, что такое **репозиторий**. Это рабочая директория с вашим проектом. По сути, это та же папка с HTML, CSS, JavaScript и прочими файлами, что хранится у вас на компьютере, но находится на сервере GitHub. Поэтому вы можете работать с проектом удалённо на любой машине, не переживая, что какие-то из ваших файлов потеряются — все данные будут в репозитории при условии, что вы их туда отправите. Но об этом позже.

### Клонируем репозиторий (clone)

Теперь нужно склонировать форк себе на компьютер, чтобы вести работу с кодом локально. Тут нам и пригодится SSH.

Открываем консоль, переходим в директорию, где хотим сохранить папку с проектом, и вводим команду:

```
git clone git@github.com:your-nickname/your-project.git
```

Например:
```
git clone git@github.com:evgenvandev/just-the-docs.git -b gh-pages
```

где:
-  клонирование ветки `gh-pages` (-b это branch - ветка)
-  репозитория `git@github.com:evgenvandev/just-the-docs.git`
-  в папку с названием репозитория (just-the-docs), это по умолчанию - название папки совпадает с названием репозитория.

Если указать название папки проекта, тогда команда будет следующей:

```
git clone git@github.com:evgenvandev/just-the-docs.git -b gh-pages name_folder
```

где:
-  name_folder - название папки на компьютере, куда копируется проект с GitHub.

### Отправляем свои изменения (commit) в репозиторий на GitHub

Чтобы отправить свои изменения (commit) в репозиторий на GitHub, введите команду:

```
git push origin название-текущей-ветки
```

где:
- `origin` означает репозиторий, который был склонирован на компьютер

```
git push git@github.com:evgenvandev/just-the-docs.git gh-pages
```

где:
-  `git@github.com:evgenvandev/just-the-docs.git` репозиторий, куда отправляем изменения
-  `gh-pages` название текущей ветки

### Забираем (pull - подтягиваем) изменения из ветки `gh-pages`

```
git pull git@github.com:evgenvandev/just-the-docs.git gh-pages
```


### Удаляем коммит (commit) с GitHub

1. Получаем хэш-код коммита, к которому хотим вернуться.
1. Заходим в папку репозитория и пишем в консоль:

```
git reset --hard commit_id
```

где:
-  commit_id идентификатор коммита, к которому нужно вернуться

> Имейте ввиду, что опция `--hard` отвечает за полную потерю изменений. Всё, что было в коммите и всё, что вы сделали после него будет удалено.

Если изменения опубликованы на GitHub, выполните ещё одну команду:

```
git push --force
```
